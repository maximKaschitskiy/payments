(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{5205:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/middleware/mongodb",function(){return r(342)}])},342:function(n,t,r){"use strict";r.r(t);var e=r(7568),u=r(4051),o=r.n(u),c=r(6785),i=r.n(c),a=r(3454);t.default=function(n){return function(){var t=(0,e.Z)(o().mark((function t(r,e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i().connections[0].readyState){t.next=4;break}return t.abrupt("return",n(r,e));case 4:return t.next=6,i().connect(a.env.MONGODB_URI,{bufferCommands:!1}).then((function(n){return n})).then((function(){return n(r,e)})).catch((function(n){return console.log({err:n}),e.statusCode=500,e.setHeader("Content-Type","application/json"),e.end(JSON.stringify({message:"Internal Server Error"})),n}));case 6:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}()}},7568:function(n,t,r){"use strict";function e(n,t,r,e,u,o,c){try{var i=n[o](c),a=i.value}catch(s){return void r(s)}i.done?t(a):Promise.resolve(a).then(e,u)}function u(n){return function(){var t=this,r=arguments;return new Promise((function(u,o){var c=n.apply(t,r);function i(n){e(c,u,o,i,a,"next",n)}function a(n){e(c,u,o,i,a,"throw",n)}i(void 0)}))}}r.d(t,{Z:function(){return u}})}},function(n){n.O(0,[961,774,888,179],(function(){return t=5205,n(n.s=t);var t}));var t=n.O();_N_E=t}]);